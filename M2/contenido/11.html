<style>
    .fake {
        background-image: url("img/bg11.webp");
        background-size: cover;
        background-position: right center;
    }

    .card-body img {
        width: 10%;
    }

    .inner {
        display: none;
    }

    .navsvg {
        position: absolute;
        bottom: 3%;
        left: 40%;
        width: 20%;
    }

    #svg-container {
        width: 100%;
        height: 100%;
    }

    .ins1 {
        position: absolute;
        bottom: 25%;
        left: 0%;
    }

    #svg-container svg {
        width: 100%;
        height: 100%;
    }

    .btn-slide {
        cursor: pointer;
        transform-box: content-box;
        transform-origin: center !important;
    }

    .btn-slide.active {
        fill: #00c40e !important;
    }

    .btn_pop {
        cursor: pointer;
        border-radius: 100%;
    }

    .mt-25 {
        margin-top: 0%;
    }

    .custom-card {
        border-radius: 0px 0px 0px 0px !important;
    }

    .responsive-icon {
        display: block;
        position: absolute;
        left: 35%;
        top: 17%;
        width: 12%;
    }

    .btn-open-info {
        cursor: pointer;
        border-radius: 100%;
    }

    .pop_full {
        max-width: 100% !important;
    }

    .pop_full.swal2-show {
        background-color: transparent !important;
        border: none !important;
        box-shadow: none !important;
    }

    .pop_full .swal2-html-container {
        padding-left: 0px !important;
        padding-right: 0px !important;
    }

    .btn_sliders {
        cursor: pointer;
    }

    .page-sco .animate__animated.animate__pulse {
        box-shadow: 0 0 0 rgba(var(--bs-danger-rgb), 0.4);
        animation: auramax 1.7s infinite ease-in-out;
    }

    @keyframes auramax {
        0% {
            box-shadow: 0 0 0 20px rgba(var(--bs-danger-rgb), 0);
            transform: scale(1);
        }

        50% {
            box-shadow: 0 0 0 0 rgba(var(--bs-danger-rgb), 0.4);
            transform: scale(1.15);
        }

        100% {
            box-shadow: 0 0 0 20px rgba(var(--bs-danger-rgb), 0);
            transform: scale(1);
        }
    }


    .bg-custom {
        background: linear-gradient(90deg, #85878b 0%, #474849 100%);
    }

    .rounded-custom {
        border-radius: 20px;
    }

    @media (min-width: 768px) {
        .mt-25 {
            margin-top: -25%;
        }

        .custom-card {
            border-radius: 0px 0px 15px 15px !important;
            position: absolute;
            top: 2%;
            left: 14%;
            width: 75%;
        }

    }
</style>
<div class="w-100 page-sco h-100 pt-4 pt-md-0">
    <div class="container">
        <div class="row align-items-center justify-content-center">
            <div class="col-12 col-md-12">
                <div class="row justify-content-center align-items-center">
                    <div class="col-12 col-md-7">
                        <div class="row align-items-center justify-content-center">
                            <div id="slide0" class="col-12 col-md-12 inner animate__animated animate__flipInY">
                                <div class="col-12">
                                    <p class="text-start text-primary fw-bold">Infraestructura</p>
                                    <p>La infraestructura de carga sigue creciendo en México. A continuación, conocerás
                                        los <b class="text-primary">avances, retos y herramientas</b> que facilitan la
                                        ubicación de estaciones de
                                        carga en todo el país.​</p>
                                </div>
                                <div class="card bg-primary">
                                    <div id="card0" class="card-body text-white py-md-3 px-md-3">
                                        <div class="row">
                                            <div class="col-12">
                                                <p class="text-center"><img src="img/11.1.webp" class="img-fluid"
                                                        loading="lazy" alt="" /></p>
                                                <p>Uno de los <b>grandes</b> retos alrededor de la
                                                    movilidad eléctrica en México es que
                                                    no hay suficiente infraestructura de carga. </p>

                                                <p>Sin embargo, los datos más recientes muestran que esta red ha crecido
                                                    de
                                                    forma constante y ya permite que los <b class="">vehículos
                                                        eléctricos sean una opción
                                                        viable</b> para miles de usuarios.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div id="slide1" class="col-12 col-md-12 inner animate__animated animate__flipInY">
                                <div class="col-12">
                                    <p class="text-start text-primary fw-bold">Infraestructura</p>
                                    <p>México avanza en la adopción de la movilidad eléctrica con más de <b
                                            class="text-primary">600 estaciones
                                            de carga rápida</b> en carreteras y zonas urbanas, y <b
                                            class="text-primary">2,700 cargadores públicos nivel
                                            2</b> en espacios como centros comerciales y estacionamientos. ​​</p>
                                </div>
                                <div id="card1" class="card bg-primary">
                                    <div class="card-body text-white py-md-3 px-md-3">
                                        <div class="row">
                                            <div class="col-12">
                                                <p class="text-center"><img src="img/11.2.webp" class="img-fluid"
                                                        loading="lazy" alt="" /></p>
                                                <p>El sector corporativo también crece, con <b>más de 5,300 puntos de
                                                        carga
                                                        privados</b> en oficinas y centros de distribución, impulsando
                                                    el uso
                                                    entre flotillas y usuarios frecuentes.</p>

                                                <p>En total, hay <b>más de 8,600 cargadores públicos y corporativos</b>
                                                    disponibles. ​</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div id="slide2" class="col-12 col-md-12 inner animate__animated animate__flipInY"
                                style="display: none;">
                                <div class="row justify-content-center align-items-center">
                                    <div class="col-12 col-md-12">
                                        <img src="img/11.5.webp" class="img-fluid" loading="lazy" alt="Mapa" />
                                        <div class="responsive-icon">
                                            <img src="img/11.7.webp" class="img-fluid btn-open-info" data-popid="#pop1"
                                                data-audio="audio_m33" loading="lazy" alt="Chicheta"
                                                style="display: none;" />
                                        </div>
                                    </div>
                                    <div class="col-12 col-md-12 mt-25">
                                        <div class="row justify-content-start align-items-center h-100">
                                            <div class="col-3 col-md-2 text-center px-md-4 nota animate__animated animate__fadeInRight"
                                                style="display: none;">
                                                <img src="img/warning.webp"
                                                    class="img-fluid btn_pop animate__animated animate__pulse animate__infinite waves-effect"
                                                    data-popid="#pop0" data-audio="audio_m32b" loading="lazy"
                                                    alt="icono Alerta" />
                                            </div>
                                            <div class="col-12 col-md-7">
                                                <div class="text-center w-100 animate__animated animate__slideInLeft ins2"
                                                    style="display:none;">
                                                    <div class="border-dark text-rojo-1 bg-white px-4 py-2 border border-2 d-inline-block"
                                                        style="border-radius: 0.5em;">
                                                        <i class="fa-light fa-arrow-pointer text-rojo-1"></i> Da clic en
                                                        el botón
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-9 col-md-5 animate__animated animate__fadeInRight">
                        <div class="row justify-content-center align-items-center">
                            <div class="col-12 col-md-10">
                                <div class="card bg-primary custom-card d-none card-info animate__animated animate__fadeInRight animate__delay-1s"
                                    style="z-index: 5000;">
                                    <div class="card-body text-white">
                                        <p>Gracias a las autonomías de entre <b>300 y 600 km</b> por carga que
                                            ofrecen muchos
                                            vehículos eléctricos disponibles en el país, hoy es posible utilizarlos
                                            tanto
                                            para el uso diario como para trayectos largos.</p>
                                    </div>
                                </div>
                                <img src="img/11.3.webp" class="img-fluid source" loading="lazy" alt="imagen" />
                                <div class="col-12 col-md-4">
                                    <div class="text-center w-100 animate__animated animate__slideInLeft ins1"
                                        style="display: block;">
                                        <div class="border-dark text-rojo-1 bg-white px-4 py-2 border border-2 d-inline-block"
                                            style="border-radius: 0.5em;">
                                            <i class="fa-light fa-arrow-pointer text-rojo-1"></i> Da clic en cada
                                            botón
                                        </div>
                                    </div>
                                    <div class="navsvg">
                                        <div id="svg-container"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="d-none">
    <div id="pop0">
        <div class="container-fluid">
            <div class="row justify-content-center my-4">
                <div class="col-12 col-md-12 text-start">
                    <div class="row justify-content-center align-items-center">
                        <div class="col-12 col-md-5">
                            <div class="personaje m1 play mx-auto"></div>
                        </div>
                        <div class="col-12 col-md-7">
                            <p>Aunque la infraestructura aún representa un reto, estos avances muestran que México se
                                encamina hacia una adopción masiva de la movilidad eléctrica. </p>

                            <p>Para lograrlo, es clave <b class="text-primary">mantener el ritmo de expansión</b>,
                                asegurar la interoperabilidad de
                                los sistemas y establecer políticas que impulsen su instalación a nivel nacional.​</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="pop1">
        <div class="w-100">
            <div class="container-fluid">
                <div class="row justify-content-center my-4">
                    <div class="col-12 col-md-12 text-start">
                        <div class="row justify-content-center align-items-center">
                            <div class="col-12 col-md-9 text-white text-center">
                                <p>Para localizar electrolineras en México, puedes utilizar las siguientes plataformas:
                                </p>
                                <div class="text-center w-100 my-2 animate__animated animate__slideInDown ins4"
                                    style="display: none;">
                                    <div class="border-dark text-rojo-1 bg-white px-4 py-2 border border-2 d-inline-block"
                                        style="border-radius: 0.5em;">
                                        <i class="fa-light fa-arrow-pointer text-rojo-1"></i> Da clic en cada botón
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-md-12">
                                <div class="row justify-content-center align-items-center bg-custom">
                                    <div class="col-12 col-md-6">
                                        <div class="row justify-content-center align-items-center">
                                            <div class="col-4 col-md-4">
                                                <img src="img/11.8.webp" class="img-fluid btn_sliders disabled"
                                                    data-bs-slide-to="0" loading="lazy" alt="PlugShare" />
                                            </div>
                                            <div class="col-4 col-md-4">
                                                <img src="img/11.9.webp" class="img-fluid btn_sliders disabled"
                                                    data-bs-slide-to="1" loading="lazy" alt="PlugShare" />
                                            </div>
                                            <div class="col-4 col-md-4">
                                                <img src="img/11.10.webp" class="img-fluid btn_sliders disabled"
                                                    data-bs-slide-to="2" loading="lazy" alt="PlugShare" />
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-md-12">
                                <div class="row justify-content-center align-items-center h-100">
                                    <div class="col-12 col-md-11 d-block d-md-block" id="col-cards">
                                        <div class="row justify-content-center align-items-center">
                                            <div class="col-12 col-md-12 mt-4">
                                                <div id="slider2" class="carousel slide my-4 my-md-2"
                                                    data-ride="carousel">
                                                    <div class="carousel-inner card animate__animated animate__fadeInUp rounded-custom border-0 py-md-4 px-md-3 py-2 px-2"
                                                        style="display: block;">
                                                        <div class="carousel-item active">
                                                            <div id="text1" class="border-0">
                                                                <div
                                                                    class="row justify-content-center align-items-center">
                                                                    <div class="col-12 col-md-12 ">
                                                                        <p>​

                                                                            Ofrece un mapa interactivo con
                                                                            estaciones de carga para vehículos
                                                                            eléctricos en todo el país. Puedes
                                                                            acceder a través de su sitio web o
                                                                            descargar su aplicación móvil para iOS y
                                                                            Android. ​</p>
                                                                    </div>
                                                                    <div class="col-12 px-0">
                                                                        <div class="bg-verde py-3 px-5">
                                                                            <div
                                                                                class="row justify-content-center align-items-center">
                                                                                <div class="col-3 col-md-1">
                                                                                    <img src="img/11.11.webp"
                                                                                        class="img-fluid" loading="lazy"
                                                                                        alt="Web" />
                                                                                </div>
                                                                                <div class="col-9 col-md-8 text-white">
                                                                                    <p><a class="text-white text-decoration-none"
                                                                                            href="https://www.plugshare.com/map/m%C3%A9xico"
                                                                                            target="_blank">Mapa de
                                                                                            estaciones de carga de
                                                                                            vehículos eléctricos en
                                                                                            México |
                                                                                            Plugshare</a></p>
                                                                                </div>

                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                            </div>
                                                        </div>
                                                        <div class="carousel-item">
                                                            <div id="text2" class="border-0 bg-rosa">
                                                                <div
                                                                    class="row justify-content-center align-items-center">
                                                                    <div class="col-12 col-md-12 ">
                                                                        <p>
                                                                            Proporciona información detallada sobre
                                                                            puntos de recarga en México, incluyendo tipo
                                                                            de conector, velocidad de carga y
                                                                            disponibilidad. Disponible en su página web
                                                                            y como aplicación móvil.​​</p>
                                                                    </div>
                                                                    <div class="col-12 px-0">
                                                                        <div class="bg-verde py-3 px-5">
                                                                            <div
                                                                                class="row justify-content-center align-items-center">
                                                                                <div class="col-3 col-md-1">
                                                                                    <img src="img/11.11.webp"
                                                                                        class="img-fluid" loading="lazy"
                                                                                        alt="Web" />
                                                                                </div>
                                                                                <div class="col-9 col-md-8 text-white">
                                                                                    <p><a class="text-white text-decoration-none"
                                                                                            href="https://www.electromaps.com/"
                                                                                            target="_blank">Mapa de
                                                                                            estaciones y puntos de
                                                                                            carga para vehículos
                                                                                            eléctricos
                                                                                            - Electromaps​</a></p>
                                                                                </div>

                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="carousel-item">
                                                            <div id="text3" class="border-0">
                                                                <div
                                                                    class="row justify-content-center align-items-center">
                                                                    <div class="col-12 col-md-12 ">
                                                                        <p>
                                                                            Especializada en estaciones de carga,
                                                                            permite localizar puntos de recarga en
                                                                            diversas ciudades mexicanas.​​​</p>
                                                                    </div>
                                                                    <div class="col-12 px-0">
                                                                        <div class="bg-verde py-3 px-5">
                                                                            <div
                                                                                class="row justify-content-center align-items-center">
                                                                                <div class="col-3 col-md-1">
                                                                                    <img src="img/11.11.webp"
                                                                                        class="img-fluid" loading="lazy"
                                                                                        alt="Web" />
                                                                                </div>
                                                                                <div class="col-9 col-md-8 text-white">
                                                                                    <p><a class="text-white text-decoration-none"
                                                                                            href="https://www.chargenow.mx/"
                                                                                            target="_blank">ChargeNow –
                                                                                            Sistema de carga para
                                                                                            vehículos eléctricos​</a>
                                                                                    </p>
                                                                                </div>

                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-12">
                                                                        <p>Estas herramientas te ayudarán a encontrar
                                                                            estaciones de carga cercanas y planificar
                                                                            tus rutas de manera eficiente.​</p>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        $(function () {
            "use strict";
            $('#template-instruction').removeClass('show');
            $('body').addClass('fake');
            const audio_m30b = course360.createSound('audio/audio_m30b.mp3');
            const audio_m32 = course360.createSound('audio/audio_m32.mp3');
            const audio_m32b = course360.createSound('audio/audio_m32b.mp3');
            const audio_m33 = course360.createSound('audio/audio_m33.mp3');

            //Audios Slide
            const paths = [
                "audio/audio_m30.mp3",
                "audio/audio_m31.mp3",
                "audio/audio_m32.mp3"
            ];

            let audios = [];
            paths.forEach(function (element) {
                audios.push(course360.createSound(element));
            });

            const paths_slide = [
                "audio/audio_m34.mp3",
                "audio/audio_m35.mp3",
                "audio/audio_m36.mp3"
            ];
            let audios_slide = [];
            paths_slide.forEach(function (element) {
                audios_slide.push(course360.createSound(element));
            });


            audios[0].on('end', function () {
                course360.audioController.stopAllSoundsAndPlay(audio_m30b);
            });
            audios[2].on('play', function () {
                $('.custom-card').removeClass('d-none');
            });

            audios[2].on('end', function () {
                $('.nota').show();
                $('.ins2').show();
            });

            audio_m32b.on('end', function () {
                $('.personaje').removeClass('play').addClass('stop');
                // $('.ins2').hide();
            });

            audio_m33.on('end', function () {
                $('.ins4').show();
                $('.swal2-container .btn_sliders').addClass('animate__animated animate__pulse animate__infinite').removeClass('disabled');
                $('.swal2-container .btn_sliders').first().removeClass('disabled animate__pulse animate__infinite').click();
            });

            //Audios Slide
            const imgs = [
                "img/11.3.webp",
                "img/11.4.webp",
                "img/11.6.webp",
            ];

            loadSVG();
            setTimeout(function () {
                $('.btn-slide').addClass('animate__animated animate__pulse animate__infinite').removeClass('disabled');
                $('.btn-slide').first().click();
            }, 300);

            // Function to load the SVG file and insert it into the container
            function loadSVG() {
                var figura = "";
                figura = "img/btns11.svg";
                $.get(
                    figura,
                    function (data) {
                        var svg = $(data).find("svg");
                        $("#svg-container").html(svg);
                        // Remove width and height attributes to make SVG responsive
                        svg.removeAttr("width").removeAttr("height");
                        $('[id*="btns"]').each(function (index, element) {
                            $(this).addClass('btn-slide disabed');
                            $(this).attr('data-slideId', index);
                        });
                        slide();
                    },
                    "xml"
                );
            }

            // slide();

            function slide() {
                $('.btn-slide').on('click', function () {
                    if (!$(this).hasClass('disabled')) {
                        let slideId = $(this).attr('data-slideId');
                        $('.inner').hide();
                        // $('.btn-slide').removeClass('active');
                        $('.custom-card').addClass('d-none');
                        $('#slide' + slideId).show();
                        $(this).removeClass('animate__animated animate__pulse animate__infinite').addClass('visited active');
                        course360.audioController.stopAllSoundsAndPlay(audios[slideId]);
                        $('.source').addClass('animate__animated animate__flipOutY').on('animationend', function () {
                            $(this).attr('src', imgs[slideId]).removeClass('animate__flipOutY').addClass('animate__flipInY').on('animationend', function () {
                                $(this).removeClass('animate__flipInY');
                            });
                        });


                        if ($('.btn-slide').length == $('.btn-slide.visited').length) {
                            // audios[slideId].on('end', function () {
                            //     $('.inner').hide();
                            //     $('#slide2').show();
                            //     $('.source').addClass('animate__animated animate__flipOutY').on('animationend', function () {
                            //         $(this).attr('src', imgs[2]).removeClass('animate__flipOutY').addClass('animate__flipInY').on('animationend', function () {
                            //             $(this).removeClass('animate__flipInY');
                            //         });
                            //     });
                            //     $('.navsvg').hide();
                            //     $('.custom-card').removeClass('d-none');
                            //     course360.audioController.stopAllSoundsAndPlay(audio_m32);
                            //     $('.ins1').hide();
                            // });
                        }
                    }
                });
            }

            $(".btn_pop").click(function (e) {
                e.preventDefault();
                if (!$(this).hasClass("disabled")) {
                    if ($(this).data("audio")) {
                        course360.audioController.stopAllSoundsAndPlay(eval($(this).data("audio")));
                    } else {
                        course360.soundClick();
                    }
                    $(".btn_pop").removeClass("visited");
                    $(this).removeClass("animate__animated animate__pulse animate__infinite waves-effect");
                    $(this).addClass("completed visited");
                    var html = $($(this).data("popid")).html();
                    var audio = $(this).data("audio");
                    course360.audioController.stopAllSoundsAndPlay(audio);
                    Swal.fire({
                        html: html,
                        showCloseButton: true,
                        showCancelButton: false,
                        showConfirmButton: false,
                        allowOutsideClick: false,
                        allowEscapeKey: false,
                        allowEnterKey: false,
                        confirmButtonText: 'Cerrar',
                        target: "body",
                        width: "100%",
                        customClass: 'pop_style',
                        willOpen: function () {
                            //course360.audioController.stopAudio();
                        },
                        didOpen: function () { },
                        didRender: function () { },
                        didClose: function () {
                            //course360.audioController.stopAudio();
                        },
                        didDestroy: function () { },
                        willClose: function () {
                            course360.audioController.stopAudio();
                            course360.soundClick();
                            if ($(".btn_pop").length == $(".btn_pop.completed").length) {
                                $('.nota').hide();
                                $('.btn-open-info').show().addClass('animate__animated animate__pulse animate__infinite waves-effect').removeClass('disabled');
                            }
                        }
                    });
                }
            });

            $(".btn-open-info").click(function (e) {
                e.preventDefault();
                if (!$(this).hasClass("disabled")) {
                    if ($(this).data("audio")) {
                        course360.audioController.stopAllSoundsAndPlay(eval($(this).data("audio")));
                    } else {
                        course360.soundClick();
                    }
                    $(".btn-open-info").removeClass("visited");
                    $(this).removeClass("animate__animated animate__pulse animate__infinite waves-effect");
                    $(this).addClass("completed visited");
                    var html = $($(this).data("popid")).html();
                    var audio = $(this).data("audio");
                    course360.audioController.stopAllSoundsAndPlay(audio);
                    Swal.fire({
                        html: html,
                        showCloseButton: false,
                        showCancelButton: false,
                        showConfirmButton: true,
                        allowOutsideClick: false,
                        allowEscapeKey: false,
                        allowEnterKey: false,
                        confirmButtonText: 'Cerrar',
                        target: "body",
                        width: "100%",
                        customClass: 'pop_full',
                        backdrop: `
                        rgba(0, 0, 0, 0.9)
                    `,
                        willOpen: function () {
                            //course360.audioController.stopAudio();
                        },
                        didOpen: function () {
                            btns();
                            if (course360.isVisited()) {
                                $('.swal2-confirm').show().addClass('animate__animated animate__pulse animate__infinite');
                            } else {
                                $('.swal2-confirm').hide().addClass('animate__animated animate__pulse animate__infinite');
                            }
                        },
                        didRender: function () { },
                        didClose: function () {
                            //course360.audioController.stopAudio();
                        },
                        didDestroy: function () { },
                        willClose: function () {
                            course360.audioController.stopAudio();
                            course360.soundClick();
                            if ($(".btn-open-info").length == $(".btn-open-info.completed").length) {

                            }
                        }
                    });
                }
            });

            function btns() {
                var cid = document.querySelector('.swal2-container #slider2');
                var carousel = new bootstrap.Carousel(cid, {
                    interval: false,
                    wrap: false
                });

                $(".swal2-container .btn_sliders").click(function (e) {
                    e.preventDefault();
                    if (!$(this).hasClass("disabled")) {
                        let slideIndex = $(this).data("bs-slide-to");
                        let textId = `#text${slideIndex + 1}`;
                        $(".btn_sliders").removeClass("visited active").css("transform", "scale(1)");
                        course360.soundClick();
                        course360.audioController.stopAllSoundsAndPlay(audios_slide[slideIndex]);
                        $(this).removeClass("animate__animated animate__pulse animate__infinite waves-effect");
                        $(this).addClass("completed visited active").css("transform", "scale(1.15)");
                        // if ($('#col-cards').is(':visible')) {
                        carousel.to(slideIndex);
                        // } else {
                        //     mobilePop(textId);
                        // }

                        if ($(".swal2-container .btn_sliders").length == $(".swal2-container .btn_sliders.completed").length) {
                            course360.setSlideVisited();
                            $('.swal2-confirm').show();
                        }
                    }
                });
            }

        });
    </script>