<style>
    .fake {
        background-image: url("img/bg03.webp");
        background-size: cover;
        background-position: bottom center;
    }

    #svg-container {
        width: 100%;
        height: auto;
    }

    #svg-container svg {
        width: 100%;
        height: 100%;
    }

    .btn_svg {
        cursor: pointer;
        transform-box: content-box;
        transform-origin: center !important;

    }

    .btn_svg.disabled {
        filter: grayscale(1);
    }

    .btn_svg.visited {
        filter: grayscale(0);
        opacity: 1 !important;
        -webkit-transition: all 0.5s ease;
        -moz-transition: all 0.5s ease;
        -o-transition: all 0.5s ease;
        transition: all 0.5s ease;
    }

    .slide {
        display: none;
        width: 100%;
        margin: 0 auto;
    }

    .slide.active {
        display: block;
    }

    .red {
        fill: #EC1F24 !important;
    }

    .red1 {
        fill: #B1171B !important;
    }

    .yellow {
        fill: #f5c331 !important;
    }

    .yellow1 {
        fill: #d6a427 !important;
    }


    .green-light {
        fill: #95cb4e !important;
    }

    .green-light1 {
        fill: #82ad3e !important;
    }

    .green {
        fill: #00b928 !important;
    }

    .green1 {
        fill: #0a9b25 !important;
    }

    @media (min-width: 768px) {
        .card img {
            transform: scale(4.5) translate(30px, -14px);
        }

    }
</style>


<div class="w-100 page-sco h-100">
    <div class="container-fluid h-100">
        <div class="row align-items-center justify-content-center h-100">
            <div class="d-none d-md-block" id="row-x"></div>
            <div class="col-12 col-md-9">
                <div class="row justify-content-center align-items-center">
                    <div class="col-11 col-md-12 text-center">
                        <h4 class="text-rojo-1 fw-bold">Recomendaciones prácticas</h4>
                    </div>
                    <div class="text-center w-100 animate__animated animate__slideInLeft ins0" style="display: block;">
                        <div class="border-dark text-rojo-1 bg-white px-4 py-2 border border-2 d-inline-block"
                            style="border-radius: 0.5em;">
                            <i class="fa-light fa-arrow-pointer text-rojo-1"></i> Da clic en cada número
                        </div>
                    </div>
                    <div class="col-12 col-md-12">
                        <div class="row justify-content-md-start justify-content-center align-items-center">
                            <div class="col-3 col-md-2">
                                <div class="objsvg" id="svg-container"></div>
                            </div>
                            <div class="col-12 col-md-8">
                                <div class="wslides">
                                    <div class=" inslides pt-md-2 pt-lg-5">
                                        <div class="slide animate__animated animate__flipInX">
                                            <div class="card border-0 border rounded shadow">
                                                <div class="card-body my-md-5 mx-md-3 my-2 mx-2">
                                                    <div class="row justify-content-center align-items-center">
                                                        <div class="col-12 col-md-10">
                                                            <p><b class="text-primary">La movilidad sostenible</b> es un
                                                                enfoque que busca desarrollar
                                                                sistemas de transporte que sean eficientes, accesibles,
                                                                respetuosos con el medio ambiente y que contribuyan al
                                                                bienestar
                                                                social y económico con el objetivo de:</p>
                                                        </div>
                                                        <div class="col-6 col-md-2">
                                                            <img src="img/03.1.webp" class="img-fluid" loading="lazy"
                                                                alt="" />
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="slide animate__animated animate__flipInX">
                                            <div class="card border-0 border rounded shadow">
                                                <div class="card-body my-md-5 mx-md-3 my-2 mx-2">
                                                    <div class="row justify-content-center align-items-center">
                                                        <div class="col-12 col-md-10">
                                                            <p><b class="text-primary">Disminuir</b> la emisión de gases
                                                                de efecto invernadero (GEI)
                                                                generadas por el transporte, promoviendo el uso de
                                                                vehículos menos contaminantes (<b
                                                                    class="text-primary">eléctricos, híbridos</b>) y
                                                                fomentando el uso de transporte público, bicicletas y
                                                                caminatas.</p>
                                                        </div>
                                                        <div class="col-6 col-md-2">
                                                            <img src="img/03.2.webp" class="img-fluid" loading="lazy"
                                                                alt="" />
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="slide animate__animated animate__flipInX">
                                            <div class="card border-0 border rounded shadow">
                                                <div class="card-body my-md-5 mx-md-3 my-2 mx-2">
                                                    <div class="row justify-content-center align-items-center">
                                                        <div class="col-12 col-md-10">
                                                            <p>Mejorar la <b class="text-primary">calidad y cobertura
                                                                    del transporte público</b>,
                                                                haciéndolo más accesible, puntual y seguro para que sea
                                                                una alternativa viable frente al uso del automóvil
                                                                particular.</p>
                                                        </div>
                                                        <div class="col-6 col-md-2">
                                                            <img src="img/03.3.webp" class="img-fluid" loading="lazy"
                                                                alt="" />
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="slide animate__animated animate__flipInX">
                                            <div class="card border-0 border rounded shadow">
                                                <div class="card-body my-md-5 mx-md-3 my-2 mx-2">
                                                    <div class="row justify-content-center align-items-center">
                                                        <div class="col-12 col-md-10">
                                                            <p>Además, el problema <b class="text-primary">no sólo es el
                                                                    uso del transporte</b>,
                                                                también es el proceso de extracción de petróleo ya que
                                                                comienza con la <b
                                                                    class="text-primary">deforestación</b>, seguido de
                                                                la prospección
                                                                sísmica, método en el que se producen niveles de ruido
                                                                de gran magnitud.​</p>
                                                        </div>
                                                        <div class="col-6 col-md-2">
                                                            <img src="img/03.4.webp" class="img-fluid" loading="lazy"
                                                                alt="" />
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        $(function () {
            $('#template-instruction').removeClass('show');
            $('body').addClass('fake');

            // const audio_m05 = course360.createSound('audio/audio_m05.mp3');
            // course360.audioController.stopAllSoundsAndPlay(audio_m05);

            // audio_m05.on("end", function () {
            setTimeout(function () {
                $("#btn0").removeClass('disabled');
                $("#btn0").click();
            }, 500);
            // });

            const paths = [
                "audio/audio_m05.mp3",
                "audio/audio_m06.mp3",
                "audio/audio_m07.mp3",
                "audio/audio_m11.mp3",
            ];
            let audios = [];
            paths.forEach(function (element) {
                audios.push(course360.createSound(element));
            });

            // Function to load the SVG file and insert it into the container
            function loadSVG() {
                $.get(
                    "img/botones03.svg",
                    function (data) {
                        var svg = $(data).find("svg");
                        $("#svg-container").html(svg);
                        // Remove width and height attributes to make SVG responsive
                        svg.removeAttr("width").removeAttr("height");
                        attachClickHandlers(); // Attach click handlers after SVG is loaded
                        animateButtons();
                    },
                    "xml"
                );
            }

            // Function to handle click events
            function handleButtonClick(buttonId, popId, nextButtonId) {
                $(buttonId).addClass("animate__animated animate__pulse animate__infinite waves-effect waves-ripple btn_svg disabled");
                $(buttonId).click(function () {
                    course360.soundClick();
                    $(buttonId).removeClass("animate__animated animate__pulse animate__infinite").addClass("visited");
                    // Play the corresponding audio
                    course360.audioController.stopAllSoundsAndPlay(audios[popId]);

                    $('.st4').removeClass('red yellow green-light green');
                    $('.st6').removeClass('red1 yellow1 green-light1 green1');
                    switch (popId) {
                        case 0:
                            $('.st4').addClass('red');
                            $('.st6').addClass('red1');
                            $('#indicador').css('transform', 'translate(0px, 0px)');
                            break;
                        case 1:
                            $('.st4').addClass('yellow');
                            $('.st6').addClass('yellow1');
                            $('#indicador').css('transform', 'translate(0px, 82px)');
                            break;
                        case 2:
                            $('.st4').addClass('green-light');
                            $('.st6').addClass('green-light1');
                            $('#indicador').css('transform', 'translate(0px, 163px)');
                            break;
                        case 3:
                            $('.st4').addClass('green');
                            $('.st6').addClass('green1');
                            $('#indicador').css('transform', 'translate(0px, 245px)');
                            break;

                        default:
                            break;
                    }

                    $(".slide").removeClass("active");
                    $(".slide").eq(popId).addClass("active");
                    // Habilitar el siguiente botón después de hacer clic
                    if (nextButtonId) {
                        $(nextButtonId).removeClass("disabled");
                    }

                    objectIsCompleted();
                });
            }

            function objectIsCompleted() {
                if ($(".btn_svg").length === $(".btn_svg.visited").length) {
                    course360.setSlideVisited();
                }
            }

            // Attach click handlers to SVG buttons
            function attachClickHandlers() {
                handleButtonClick("#btn0", 0, "#btn1");
                handleButtonClick("#btn1", 1, "#btn2");
                handleButtonClick("#btn2", 2, "#btn3");
                handleButtonClick("#btn3", 3, false);
                // Add more buttons as need0
            }

            // Function to animate buttons with GSAP
            function animateButtons() {
                const buttons = ["#btn0", "#btn1", "#btn2", "#btn3"];
                buttons.forEach((button, index) => {
                    gsap.from(button, {
                        opacity: 0,
                        y: -20,
                        duration: 0.5,
                        delay: index * 0.2,
                    });
                });
            }

            // Load the SVG
            loadSVG();

        });
    </script>